<div class="col-md-12 container">
  <div class="main">
    <h2 class="no-margin">{{ 'login.title' | translate }}</h2>
    <form class="main-content" name="form" (ngSubmit)="f.form.valid && login()" #f="ngForm" novalidate>
      <img src="/assets/logo_black.png" class="logo" alt="Loft3Di" />
      <div class=" form-group" [ngClass]="{ 'has-error': f.submitted && !username.valid }">
        <div class="ui-inputgroup">
          <span class="ui-inputgroup-addon"><i class="pi pi-user" style="font-size: 2em"></i></span>
          <input type="text" pInputText style="width: -webkit-fill-available;" name="username"
            [(ngModel)]="model.UserName" [ngModelOptions]="{standalone: true}" #username="ngModel"
            placeholder="Tên đăng nhập" required />
        </div>
        <div *ngIf="f.submitted && !username.valid" class="help-block">
          <p>{{ 'login.messages.username_required' | translate }}</p>
        </div>
      </div>

      <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !password.valid }">
        <div class="ui-inputgroup">
          <span class="ui-inputgroup-addon"><i class="pi pi-lock" style="font-size: 2em"></i></span>
          <input type="password" pInputText style="width: -webkit-fill-available;" name="password"
            [(ngModel)]="model.Password" [ngModelOptions]="{standalone: true}" #password="ngModel"
            placeholder="Mật khẩu" required />
        </div>
        <div *ngIf="f.submitted && !password.valid" class="help-block">
          {{ 'login.messages.password_required' | translate }}</div>
      </div>

      <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !password.valid }">
        <div class="ui-inputgroup">
          <p-checkbox [(ngModel)]="checked" [ngModelOptions]="{standalone: true}" binary="true"></p-checkbox>
          <span style="margin-left: 10px;">Lưu mật khẩu</span>
        </div>
      </div>
      <!--
      <div class="ui-inputgroup form-group">
        <div class="capchar">{{capcharLogo}}</div>
        <span class="ui-inputgroup-addon" style="font-size: 1.5em; padding-top: 3%;"><i class="pi pi-refresh"
            aria-hidden="true" (click)="capcharText()"></i></span>
      </div>

      <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !capchar.valid }">
        <div class="ui-inputgroup">
          <span class="ui-inputgroup-addon"><i class="pi pi-key" style="font-size: 2em"></i></span>
          <input type="text" pInputText style="width: -webkit-fill-available;" name="capcharInput"
            [(ngModel)]="capcharInput" #capchar="ngModel" placeholder="Nhập captcha" required />
        </div>
        <div *ngIf="f.submitted && !capchar.valid" class="help-block">
          {{ 'login.messages.captcha_required' | translate }}</div>
      </div> -->

      <!-- <div *ngIf="validateCaptcha == true" class="help-block" style="color: #dd4b39;">
        {{ 'login.messages.captcha_error' | translate }}</div> -->

      <div class="form-group">
        <button [disabled]="loading" class="login-button btn btn-primary">{{ 'login.buttons.login' | translate
          }}</button>
        <div *ngIf="loading">
          <img
            src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
        </div>

        <div [ngClass]="{ 'has-error': state && state==-1 }">
          <div *ngIf="state && state==-1" class="help-block">{{loginMessageCode}}</div>
        </div>
      </div>
      <a class="cursor" (click)="redirectForgotPass()">Quên mật khẩu</a>
    </form>
  </div>
</div>